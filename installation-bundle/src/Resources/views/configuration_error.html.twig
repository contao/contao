{% extends "@ContaoInstallation/layout.html.twig" %}

{% block main %}
  <fieldset class="tl_tbox nolegend">
    <h3>{{ 'an_error_occurred'|trans }}</h3>
    {% if errorCode == 1 %}
      <p class="tl_error">{{ 'unsupported_version'|trans }}</p>
      <p>{{ 'unsupported_version_explain'|trans|format(version) }}</p>
    {% elseif errorCode == 2 %}
      <p class="tl_error">{{ 'unsupported_collation'|trans }}</p>
      <p>{{ 'unsupported_collation_explain'|trans|format(collation)|raw }}</p>
      <div id="sql_wrapper">
        <pre>doctrine:
    dbal:
        connections:
            default:
                default_table_options:
                    charset: utf8
                    collate: utf8_unicode_ci</pre>
      </div>
    {% elseif errorCode == 3 %}
      <p class="tl_error">{{ 'unsupported_engine'|trans }}</p>
      <p>{{ 'unsupported_engine_explain'|trans|format(engine)|raw }}</p>
      <div id="sql_wrapper">
        <pre>doctrine:
    dbal:
        connections:
            default:
                default_table_options:
                    engine: MyISAM</pre>
      </div>
    {% endif %}
  </fieldset>
{% endblock %}
