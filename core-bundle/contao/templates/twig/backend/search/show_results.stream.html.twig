<turbo-stream action="update" target="backend-search--results">
    <template>
        {% include "@Contao/backend/search/_results.html.twig" %}
    </template>
</turbo-stream>

{% if typeFacets %}
<turbo-stream action="update" target="backend-search--facet-types">
    {% apply spaceless %}
        <template>
            {% include "@Contao/backend/search/_facet.html.twig" with {
                facetName: 'type',
                facets: typeFacets,
                filterName: 'type',
                activeFilter: query.type(),
            } %}
        </template>
    {% endapply %}
</turbo-stream>
{% endif %}

{% if not query.tag %}
    {% apply spaceless %}
        <turbo-stream action="update" target="backend-search--facet-tags">
            <template>
                {# Ignore the "type" facet in order to not update the type facet #}
                {% include "@Contao/backend/search/_facet.html.twig" with {
                    facetName: 'tags',
                    facets: tagFacets,
                    filterName: 'tag',
                    activeFilter: query.tag(),
                } %}
            </template>
        </turbo-stream>
    {% endapply -%}
{% endif %}
